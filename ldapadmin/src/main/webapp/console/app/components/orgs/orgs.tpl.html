<section class="orgs">

  <div class="col-md-4 aside">

    <div class="alert alert-info">
      <a ng-link="orgs({org: 'all'})" class="category" ng-class="{active: orgs.org=='all'}" translate>orgs.allorgs</a>
      <a ng-link="orgs({org: 'pending'})" class="category" ng-class="{active: orgs.org=='pending'}" translate>orgs.pending</a>
      <hr>
      <div class="create-btn">
        <a ng-click="orgs.create()" class="btn btn-default" translate>orgs.neworg</a>
      </div>
    </div>

  </div>

  <div class="col-md-8">

    <input type="text" class="filter-table form-control pull-right" ng-model="orgs.q" placeholder="{{'group.filter_orgs' | translate}}"></input>
    <i class="glyphicon glyphicon-remove-sign filter-table-reset" ng-show="orgs.q != ''" ng-click="orgs.q = ''"></i>
    <h3 class="groups-title">{{orgs.orgs.length}} <span translate>orgs.title</span></h3>

    <table class="table table-striped table-condensed">

      <thead>
        <tr>
          <th translate>org.name</th>
          <th translate>org.shortName</th>
          <th translate>org.membersCount</th>
        </tr>
      </thead>

      <tbody>
        <tr dir-paginate="org in orgs.orgs | filter:orgs.q | itemsPerPage: orgs.itemsPerPage">
          <td>
            <!-- <a ng-link="user({id: user.uid, tab: 'infos'})">{{::user.sn}} {{::user.givenName}}</a> -->
            {{::org.name}}
          </td>
          <td>{{::org.shortName}}</td>
          <td>{{::org.membersCount}}</td>
        </tr>
      </tbody>

    </table>

    <dir-pagination-controls></dir-pagination-controls>

  </div>

  <div ng-if="users.newGroup" class="background" ng-cloack>

    <div class="panel panel-default">

      <div class="panel-heading">
        <a class="btn close" ng-click="users.close()">&times;</a>
        <span translate>users.createGroup</span>
      </div>
      <div class="panel-body">
        <form class="form-horizontal" name="groupForm">

          <div class="form-group" ng-class="{'has-error': groupForm.newGroupName.$invalid && groupForm.newGroupName.$dirty}">
            <label for="newGroupName" class="col-sm-4 control-label" translate>users.newGroup</label>
            <div class="col-sm-8">
              <input ng-model="users.newGroupName" id="newGroupName" class="form-control" name="newGroupName"
                placeholder="{{ 'users.newGroupName' | translate}}" validate-group="users.groups"/>
            </div>
          </div>
          <div class="form-group">
            <label for="newGroupDesc" class="col-sm-4 control-label" translate>users.newGroupDesc</label>
            <div class="col-sm-8">
              <textarea ng-model="users.newGroupDesc" id="newGroupDesc" class="form-control" Desc="newGroupDesc"></textarea>
            </div>
          </div>

          <hr>

          <button class="btn btn-primary pull-right" ng-disabled="groupForm.$invalid" ng-click="users.saveGroup()">
            <span translate>users.save</span>
          </button>
          <button class="btn btn-link pull-right" ng-click="users.close()" translate>users.cancel</button>
        </form>
      </div>

    </div>

  </div>

</section>
